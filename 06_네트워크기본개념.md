## 네트워크 기본개념

### 네트워킹이란?
장비들간 통신이  가능하도록 연결해 주는 것

### 인터넷 / 인트라넷  / 엑스트라넷
##### 인터넷(Public)
* 여러 개의 네트워크를 묶어놓았다는 의미
* TCP/IP라는 하나의 프로토콜만을 사용하며, 이 프로토콜을 기반으로 전세계의 네트워크를 하나로 연결하여 각각 PC가 가지고 있는 자료나 정보를 주고 받을 수 있는 광역 네트워크.
* Explorer나 Chrome같은 웹 브라우저를 이용

##### 인트라넷(Private)
* (기업이나 조직)내부의 네트워크
* 인터넷과 같이 TCP/IP 프로토콜을 사용, 웹 브라우저 사용
  * 프로토콜이란 장비 간 대화가 가능하게 하는 통신의 규칙
  * TCP/IP란 특정 기업이나 개인에게 한정된 것이 아니라 오픈되어 있어 누구나 적용할 수 있으며, 4개의 계층적 구조를 가진다. 다수의 네트워크와 장비에 대해 논리적 주소를 사용하면서 네트워크 ID와 호스트 ID를 구분하여 네트워크에서 장비를 구별할 수 있게 된다.
* 주로 방화벽을 설치하여 외부로부터의 접근을 막거나 제한하여 보안을 유지
  * 방화벽이란 서로 다른 네트워크를 지나는 데이터를 허용/거부/검열/수정 하는 하드웨어나 소프트웨어 장치

##### 엑스트라넷(Semiprivate)
* 인트라넷과 거의 유사하지만, 기업 내 직원 외에 협력사나 고객도 사용 가능하도록 만든 네트워크

### 규모에 따른 네트워크 종류
*  **LAN**(Local Area Network)
 한정된 공간에서 네트워크를 구성하는 것으로,  초기 설치 비용은 많이 들지만 유지 비용은 적게 든다.
Ex> PC방에 있는 각 PC들을 네트워크로 구성 - LAN을 구축한 것
* **WAN**(Wide Area Network)
멀리 떨어진 지역과의 네트워크를 구성하는 경우에 사용하며, 초기 설치 비용은 적게 들지만 유지 비용은 많이 든다.
Ex> 인터넷 접속

### 네트워킹 방식(이더넷, 토큰링)
어떤 네트워크 방식을 사용하느냐에 따라 필요한 네트워크 장비도 다르다.
Ex> 이더넷, 토큰링, FDDI, ATM 방식 등
##### 이더넷(Ethernet)
네트워킹의 한 방식으로, 우리나라에서 사용하는 네트워킹 방식의 90%이상이 이더넷 방식이다. CSMA/CD라는 프로토콜을 사용한다.
* CSMA/CD 프로토콜이란?
 Carrier Sense Multiple Access/Collision Detection(네트워크 상 신호 감지 다중 접근/충돌 감지)로,
 하나의 전송 매체를 공유하여 한번에 하나씩만 통신한다.
 통신하고자 하는 컴퓨터가 네트워크 상태를 살펴보고, 아무도 통신하고 있지 않으면 자기 데이터를 실어서 보낸 다음 잘 갔는지 확인한다.
 동시에 두 컴퓨터가 데이터를 보내고자 하면 충돌이 발생하고, 이 때는 각자 랜덤 시간을 기다렸다가 다시 보내는 방식.
 ##### 토큰링(Token-Ring)
 토큰을 가진 PC만이 네트워크에 데이터를 실어 보낼 수 있다.데이터를 다 보내면 옆 PC에게 토큰을 전달한다. 충돌이 발생하지 않는다는 장점이 있다.  90년대 초반에는 이더넷보다 안정적이라고 인기가 많았지만, 이더넷이 발전하면서 현재는 점차 사라졌다.
### 네트워킹을 위한 Address(physical - MAC, logical - IP)
 ##### MAC Adress(Media Access Control Adress)
MAC 주소는 특정 컴퓨터나 모바일 기기를 식별하기 위한 개인용 컴퓨터의 고유식별번호를 말한다. MAC주소는 랜카드에 저장되어 있기 떄문에, 사용자가 임의대로 변경할 수 없다. 따라서 MAC 주소는 네트워크 설정이나 방화벽 설정 등 특정 사용자만을 허용하거나 차단하고자 할 때 주로 사용된다.
MAC 주소는 48비트(16진수 12자리)로 표현되는데,
앞의 24비트는 생산자를 나타내는 코드(OUI:Organizational Unique Identifier)이며, 이 값을 통해 어느 회사에서 만든 제품인지를 알 수 있다. 뒤의 24비트는 해당 제품의 시리얼 번호가 된다.

 각각의 장비에 부여된 MAC 주소는 전 세계 PC들을 구분할 수 있는 세상에서 유일한 번호이지만 이것만으로 멀리 있는 컴퓨터에 접속하기는 너무 어렵다. 따라서 인터넷 상에서도 IP 주소라는 것을 도입하였다. IP주소를 입력하면 어떠한 컴퓨터로 접근되도록 한 것.
 이 때 IP주소를 MAC로 바꾸는 ARP(Address Resolution Protocol) 절차가 필요하다.

* 이 때 ARP는 브로드캐스트 방식이다. 상대의 IP만 말고 MAC 주소를 모를 때, 모든 장비에게 '이 IP주소를 가진 PC는 누구인지'를 전송해야 하기 때문
*  MAC주소 : physical 주소      /     IP주소 : Logical 주소

##### IP Adress
IP주소는 인터넷에 연결된 기기를 식별하는 번호이며, 사용자마다 서로 다른 IP주소를 부여받게 된다.
172.123.123.123과 같이 0~255까지 범위의 4개의 숫자로 구성된다.
IP주소는 네트워크 주소와 호스트 주소로 나뉘는데, 네트워크 주소는 각각의 네트워크를 구분하는 주소이다. 네트워크 주소는 각각의 네트워크를 구분하는 주소이기 때문에 서로 다른 값을 가지고, 절대로 중복될 수 없다.
호스트 주소는 각각의 네트워크 내에서 기기를 식별하는 주소이다. 호스트 주소는 같은 네트워크 망 내에서는 중복될 수 없지만, 다른 네트워크 망끼리는 중복될 수 있다는 특징을 가진다. 자세한 분류 등은 아래에서 다시 설명한다.

### Unicast, Broadcast, Multicast
네트워크에서 통신을 하는 방식에 따라 Unicast, Broadcast, Multicast로 구분된다.
##### Unicast(1:1)
가장 많이 사용되는 통신 방식이다. 출발지 MAC주소와 목적지 MAC주소를 통해 통신을 하는데, 연결되어 있는 모든 PC에게 특정 MAC주소를 알리면, 연결되어 있던 모든 PC들을 자신의 맥 주소와 해당 주소를 비교하여 일치하는 경우에만 CPU로 올려준다. 따라서 나머지 PC들은 작업을 CPU에 올리지 않으므로 PC성능에 영향을 미치지 않는다.

##### Broadcast(1:ALL)
통신의 대상이 특정한 한 PC가 아니라, 해당 네트워크 안의 모든 장비들에게 통신을 하는 방식이다. 브로드캐스트의 MAC주소는 FF:FF:FF:FF:FF:FF로 정해져 있는데, 이렇게 보냈을 경우 각각의 PC들은 자신의 MAC주소와 일치하지 않더라도 CPU는 하던 일을 멈추고 받은 패킷을 처리해야 하므로 CPU 사용량이 증가하여 PC성능 저하가 발생하게 된다. 따라서 브로드캐스트 통신은 최소화해야 한다.

##### Multicast(1:N)
보내고자 하는 정보를 그룹 내의 특정 PC들에게만 한번에 보낼 수 있는 통신.  100대 중 80대의 장비에 똑같은 데이터를 보내야 하는 상황이라면? 멀티캐스트를 통해 데이터를 전송하고자 하는 80대의 장비를 지정하여 한번에 전송할 수 있다.
단, 라우터나 스위치가 이 기능을 제공해 주어야 한다.

### OSI 7 Layer
OSI는 Open Systems Interconnection의 약자이다.
LAYER7 : Application layer**
LAYER6 : Presentation layer
LAYER5 : Session Layer
LAYER4 : Transport Layer**
LAYER3 : Network Layer**
LAYER2 : Data Link Layer**
LAYER1 : Physical Layer

##### Physical Layer (1)
layer1은 주로 전기적, 기계적 특성을 이용하여 통신 케이블로 데이터를 전송한다. Ex) 통신케이블, 허브
##### Data Link Layer (2)
layer2는 physical layer 로부터 송수신 되는 정보의 오류와 흐름을 관리하여 안전한 정보의 전달을 수행하도록 도와준다. 따라서 오류 검출, 재전송의 기능이 있으며, 프레임이라는 전송 단위로 전송을 한다. Ex) 브리지, 스위치
##### Network Layer (3)
layer3은 데이터를 목적지까지 가장 안전하고 빠르게 전달하는 것을 주 목적으로 한다. 경로를 선택하고, 경로에 따라 패킷을 전달해주는 역할 Ex) 라우터
##### Transport Layer (4)
layer4는 신뢰성 있는 데이터를 주고 받을 수 있도록 해주는 역할을 한다. 오류검출/복구/흐름제어/중복검사 등을 수행한다. 대표적으로 TCP, UDP가 있다.
##### Session Layer(5)
layer5는 통신 관리 방법을 제공하는 역할. 연결이 손실된 경우 복구를 시도하고, 오랜 시간 동안 연결이 되지 않으면 연결을 닫고 다시 연결을 재개한다.
##### Presentation Layer (6)
layer6은 코드 간의 번역을 담당한다. 압축/암호화 기능을 수행

##### Application Layer (7)
layer7은 응용 프로세스와 직접 접근하여 응용 서비스를 수행한다. 사용자 인터페이스의 역할을 담당하고, 사용자와 가장 가까운 프로토콜을 정의한다.

### TCP/IP
Transmisison Control Protocol/Internet Protocol
인터넷을 사용하기 위해 필요한 프로토콜이다.
각각의 네트워크에 접속되는 호스트들은 고유의 주소인 IP를 가지고 있어 자신이 속해 있는 네트워크 뿐만아니라 다른 네트워크에 연결되어 있는 호스트까지도 서로 데이터를 주고받을 수 있도록 만들어짐. IP주소는 전 세계적으로 유일하다.
인터넷 사용자가 늘고 IP주소의 개수는 한정되어 있다보니 NAT, PAT등이 사용된다.


### NAT(Network Address Translation)
내부네트워크에서 사설IP 주소를 사용하고, 인터넷으로 나갈 때만 공인 IP 주소를 사용.
* 외부 통신망(인터넷 망)에 연결하는 장비인 라우터에 NAT를 설정할 경우, 라우터는 자신에게 할당된 공인 IP주소만 외부로 알려지게 하고, 내부에서는 사설 IP주소만 사용하도록 하여 필요 시에 이를 서로 변환시켜 준다. 따라서 외부 침입자가 공격하기 위해서는 사설 망의 내부 사설 IP 주소를 알아야 하기 떄문에 공격이 불가능해지므로 내부 네트워크를 보호할 수 있다.
  * 공인IP <----주소 변환-----> 사설IP
     주소 변환 과정이 일어나므로 보안상승 효과가 있다.
     * NAT의 종류
       static-NAT (1:1)
      dynamic-NAT (m:n, m<n)

### PAT(Port Address Translation)
동일한 사설 IP 주소를 가지고 여러 명이 접속하면서 포트 넘버만 바꾸는 것.

-----------------------
### IP
**IP(Internet Protocol)** 는 컴퓨터 네트워크에서 장치들이 서로를 인식하고 통신하기 위해 사용하는 번호이다.즉 인터넷에 접속하기 위해, 컴퓨터나 스마트폰 등에 부여하는 고유한 주소라고 볼 수 있다.  이는 **사설IP**와 **공인IP**로 나뉘어진다.

>##### 사설IP(내부IP)
- 인터넷 상에서 확인 및 사용할 수 없음
- 네트워크 안에서 내부적으로 사용되는 고유한 주소
- 하나의 네트워크 안에서 유일
- ISP 업체 임대와 관계 없이 내부적으로 사용하는 주소
- 사설IP 주소를 사용하는 내부 네트워크에서 인터넷을 사용하기 위해 NAT 기능을 이용
- A,B,C클래스로 나뉘어진 특정 대역에 속해있다.
     A Class :  10.0.0.0 ~ 10.255.255.255
     B Class : 172.16.0.0 ~ 172.31.255.255
     C Class : 192.168.0.0 ~ 192.168.255.255

cmd에서 ipconfig를 통해 확인이 가능한 주소가 사설IP이다.

>##### 공인IP(외부IP)
- 인터넷 상에서 사용되며 확인 가능함.
- 전 세계에서 유일
- ISP 업체에서 할당한 주소

인터넷에서  '내 아이피 주소'를 검색했을 때 나오는 주소가 공인IP이다.


![](https://drive.google.com/uc?id=13iwuGkWqyR39crA5NUOztKnuCNndESre)
&nbsp;

또한, **유동IP**와 **고정IP**로 나누어지기도 한다. 말 그대로 유동IP는 IP가 수시로 변화할 수 있고, 고정IP는 한 번 할당된 이후에는 값이 변하지 않는다. 이 때 공인IP이면 고정IP, 사설IP이면 유동IP 등으로 정해져 있는 것이 아니라 어떠한 조합도 가능하다.
> **공인 & 고정** : DNS 서버
**공인 & 유동** : ISP업체에서 주로 가정용 회선으로 내어줄 때 이 방식을 이용
**사설 & 고정** : 공유기에서 설정을 통해, 보통 유동적으로 할당되는 사설IP를 고정 가능
**사설 & 유동** : DDNS 서버의 경우, 보통 공유기에서 할당되는 사설IP의 경우
